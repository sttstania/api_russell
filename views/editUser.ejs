<!-- views/users/edit.ejs -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Edit User</title>
</head>
<body>
    <%- include('partials/header') %>
    <main>
        <h1>Editer Profil</h1>
        <% if (error) { %>
            <p style="color:red;"><%= error %></p>
        <% } %>

        <!-- Formulaire PUT pour mise à jour complète -->
        <form action="/users/<%= user._id %>" method="POST">
            <!-- Override method -->
            <input type="hidden" name="_method" value="PUT">

            <div>
                <label for="name">Name:</label>
                <input type="text" id="name" name="name" value="<%= user.name %>" required>
            </div>

            <div>
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" value="<%= user.email %>" required>
            </div>

            <div>
                <label for="password">Password (laisser vide pour garder l'actuel):</label>
                <input type="password" id="password" name="password">
            </div>

            <button type="submit">Update</button>
        </form>

        <a href="/users/profileUser?id=<%= user._id %>">Retourner à la page profil</a>
    </main>
    <%- include('partials/footer') %>
</body>
</html>
